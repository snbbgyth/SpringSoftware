@using SpringSoftware.Core.Help
@using SpringSoftware.Web.DAL.Manage
@model IEnumerable<SpringSoftware.Core.DbModel.Product>

@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>

@foreach (var item in Model)
{
    var picture = ProductManage.Current.GetFirstPictureById(item.Id);
    var picturePath = Path.Combine(Constants.ProductThumbnailPathTags, picture.FileName);
    
    <div class="item-box">

        <div class="product-item" data-productid="16">
            <div class="picture">
                <a href="/build-your-own-computer" title="@item.Name">
                    <img alt="@item.Name" src="@picturePath" title="@item.Name">
                </a>
            </div>
            <div class="details">
                <h2 class="product-title">
                    <a href="/build-your-own-computer">@item.Name</a>
                </h2>
                <div class="product-rating-box" title="1 行动方案审评">
                    <div class="rating">
                        <div style="width: 100%">
                        </div>
                    </div>
                </div>
                <div class="description">
                 @item.Discrption
                </div>
                <div class="add-info">
                    <div class="prices">
                        <span class="price actual-price">¥@item.Price</span>
                    </div>
                    <div class="buttons">

                        <input type="button" value="加入购物车" class="button-2 product-box-add-to-cart-button" onclick="AjaxCart.addproducttocart_catalog('/addproducttocart/catalog/16/1/1    ');return false;">
                    </div>

                </div>
            </div>
        </div>

    </div>

}

<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Discrption)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Price)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.CreateDate)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.LastModifyDate)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.IsDelete)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Creater)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.LastModifier)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Name)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Discrption)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Price)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.CreateDate)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.LastModifyDate)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.IsDelete)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Creater)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.LastModifier)
        </td>
        <td>
            @Html.ActionLink("Edit", "Edit", new { id=item.Id }) |
            @Html.ActionLink("Details", "Details", new { id=item.Id }) |
            @Html.ActionLink("Delete", "Delete", new { id=item.Id })
        </td>
    </tr>
}

</table>
